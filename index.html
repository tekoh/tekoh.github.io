<!DOCTYPE html>
<html>

<script>
    function detectMob() {
        const toMatch = [
            /Android/i,
            /webOS/i,
            /iPhone/i,
            /iPad/i,
            /iPod/i,
            /BlackBerry/i,
            /Windows Phone/i
        ];

        return toMatch.some((toMatchItem) => {
            return navigator.userAgent.match(toMatchItem);
        });
    }   
    if (detectMob()) {
       location.replace("mobile.html")
    }

    function randomVideo() {
        const vid = Math.floor(Math.random() * 10) + 1
        return "imgs/" + vid + ".mp4"
    }

    function copyTag() {

        const tag = document.getElementsByClassName("discord")[1]

        if (tag.innerText != "max#0777") return

        const el = document.createElement('textarea');
        el.value = "max#0777";
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el); 

        tag.innerText = "copied to clipboard"

        setTimeout(() => {
            tag.innerText = "max#0777"
        }, 1000);
    }

    const timeout = 1000
    let clicks = 0
    let lastClick, started

    function cpsCount() {
        const now = new Date().getTime()

        if (lastClick && now - lastClick >= timeout)  {
            clicks = 0
            started = now
            return lastClick = now
        }

        clicks++

        if (started) {
            lastClick = now

            let text = `CPS: ${calcCps()} (${clicks} clicks)`

            const tag = document.getElementsByClassName("discord")[1]

            return tag.innerText = text
        } else {
            if (clicks > 2) {
                started = now
                lastClick = now
                clicks = 1

                let text = `CPS: ${calcCps()} (${clicks} clicks)`

                const tag = document.getElementsByClassName("discord")[1]

                return tag.innerText = text
            }
        }
    }

    function calcCps() {
        const time = lastClick - started
        const cps = (clicks / (time / 1000)).toFixed(1)

        if (cps == "Infinity") return 1

        if (clicks < 4) return (cps / 2).toFixed(1)

        return cps
    }
</script>

<head>
    <title>Tekoh</title>
    <link rel="icon" href="imgs/top.png">
    <link rel="stylesheet" type="text/css" href="style.css" >
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="tekoh.wtf">
    <meta property="og:title" content="Tekoh" />
    <meta property="og:description" content="tekoh.wtf" />
    <meta property="og:url" content="https://tekoh.wtf" />
    <meta name="theme-color" content="#ff4857">
</head>

<video autoplay muted loop id="video" onclick="cpsCount()">
    <source id="vidSource" type="video/mp4"/>
</video>

<body>

    <script>
        const player = document.getElementById("video")

        const vid = randomVideo()

        document.getElementById("vidSource").src = vid;

        player.load()
    </script>

    

    <div id="content">

        <p class="discord"><a href="javascript:void(0);" onclick="copyTag();" class="discord">max#0777</a></p>
       
        <a href="https://youtube.com/Tekohh"> 
            <img src="imgs/youtube.png" /> 
        </a>
        
        <a href="https://instagram.com/xdtekoh">
            <img src="imgs/instagram.png" />
        </a>

        <a href="https://snapchat.com/add/tekohh">
            <img src="imgs/snapchat.png" />
        </a>

        <a href="https://open.spotify.com/user/maxthemango">
            <img src="imgs/spotify.png">
        </a>

        <a href="https://twitter.com/xdtekoh">
            <img src="imgs/twitter.png" />
        </a>

        <a href="https://github.com/tekohxd">
            <img src="imgs/github.png" />
        </a>

        <p class="bot"><a href="http://bot.tekoh.wtf" class="bot">nypsi</a></p>
        
    </div>

</body>

</html>